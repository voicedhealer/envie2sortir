# Envie2Sortir - Plateforme Ultra-Locale de Divertissements

Une plateforme moderne et intuitive pour d√©couvrir tous les √©tablissements de divertissement pr√®s de chez vous.

## üöÄ Fonctionnalit√©s Principales

### üè† Page d'Accueil Ultra-Performante
- **Hero Section** avec gradient orange-pink-rouge et slogan accrocheur
- **Barre de recherche intelligente** avec double input (ville + activit√©)
- **Effet typewriter** pour les suggestions d'activit√©s
- **G√©olocalisation** "Autour de moi" avec consentement utilisateur
- **Dropdowns dynamiques** pour villes et cat√©gories d'activit√©s
- **Sections visuelles** : meilleurs endroits, cat√©gories, comment √ßa marche
- **Social Proof** avec t√©moignages utilisateurs
- **Section Pro** avec CTA pour r√©f√©rencer
- **Newsletter** et g√©olocalisation
- **Footer complet** avec liens et informations

### üîç Syst√®me de Recherche Avanc√©
- **Recherche par ville** avec suggestions automatiques
- **Recherche par cat√©gorie** li√©e √† la base de donn√©es
- **G√©olocalisation** pr√©cise avec rayon de 5km
- **Filtres dynamiques** bas√©s sur le contenu r√©el
- **Page de r√©sultats** avec grille de cartes + carte interactive
- **Recherche "envie"** avec extraction de mots-cl√©s intelligente

### üó∫Ô∏è Carte Interactive
- **Int√©gration Leaflet.js** pour la cartographie
- **Marqueurs personnalis√©s** avec ic√¥ne bleu distinctive
- **Popups adaptatifs** selon le contexte (accueil vs d√©tail)
- **Centrage automatique** sur la zone de recherche
- **Marqueur de recherche** avec point central orange
- **Liens directs** vers les pages de d√©tails

### üè¢ Gestion des √âtablissements
- **CRUD complet** : Cr√©ation, Lecture, Mise √† jour, Suppression
- **Formulaires intelligents** avec validation client et serveur
- **G√©n√©ration automatique** de slugs SEO-friendly
- **Gestion des images** avec image principale
- **Syst√®me d'activit√©s √©tendu** : VR, escape game, bowling, restaurant, bar, etc.
- **Enrichissement automatique** via Google Places API
- **Donn√©es hybrides** : automatiques + manuelles

### üîê Syst√®me d'Authentification
- **NextAuth.js** avec support multi-providers
- **Connexion par email/mot de passe**
- **Connexion sociale** (Google, Facebook) - optionnelle
- **R√¥les utilisateurs** : Admin, Professionnel, Utilisateur
- **Protection des routes** avec middleware
- **Gestion des sessions** avec hydratation optimis√©e

### üë• Espaces Utilisateurs
- **Espace Professionnel** : Dashboard complet pour g√©rer son √©tablissement
- **Espace Admin** : Gestion globale de la plateforme
- **Mon Compte** : Profil utilisateur avec favoris
- **Inscription simplifi√©e** : Cr√©ation compte + √©tablissement en une √©tape

### üéØ Cat√©gories d'Activit√©s Avanc√©es
- **Syst√®me d'activit√©s d√©taill√©** avec 50+ cat√©gories
- **Mapping intelligent** des activit√©s vers des labels courts
- **Support multi-activit√©s** pour les √©tablissements complexes
- **Filtrage dynamique** par ville et activit√©
- **Recherche s√©mantique** avec mots-cl√©s

### üìÖ Syst√®me d'√âv√©nements
- **Gestion compl√®te** des √©v√©nements par √©tablissement
- **Filtrage temporel** : √©v√©nements √† venir uniquement
- **Affichage contextuel** : en cours vs √† venir
- **Interface intuitive** avec cartes √©v√©nements

### üé® Design System Responsive
- **Largeur adaptative** : max-w-6xl pour les √©crans larges
- **Popups contextuels** : tailles ajustables selon l'usage
- **Syst√®me de r√©glages** facile pour les tailles de composants
- **Layout optimis√©** pour tous les √©crans (13" √† 27"+)

## üõ†Ô∏è Technologies Utilis√©es

- **Frontend** : Next.js 15, React 19, TypeScript
- **Styling** : Tailwind CSS 4 avec th√®me personnalis√©
- **Base de donn√©es** : SQLite avec Prisma ORM
- **Cartographie** : Leaflet.js
- **Authentification** : NextAuth.js
- **G√©olocalisation** : API Web Geolocation + Nominatim
- **Enrichissement** : Google Places API
- **D√©ploiement** : Pr√™t pour Vercel/Netlify

## üé® Design System

### Couleurs Th√®me
- **Orange** : #ff751f
- **Pink** : #ff1fa9  
- **Rouge** : #ff3a3a
- **Fond** : Blanc (#ffffff)
- **Texte** : Noir (#171717)

### Typographie
- **Police principale** : Inter (Google Fonts)
- **Hi√©rarchie** : H1 (6xl), H2 (3xl), H3 (xl)
- **Responsive** : Mobile-first avec breakpoints Tailwind

### Composants
- **Cartes** avec gradients et effets hover
- **Boutons** avec d√©grad√©s et transitions
- **Formulaires** avec focus states et validation
- **Navigation** sticky avec logo et liens
- **Popups** adaptatifs selon le contexte

## üì± Responsive Design

- **Mobile-first** approche
- **Grilles adaptatives** (1 ‚Üí 2 ‚Üí 4 ‚Üí 6 colonnes)
- **Navigation mobile** optimis√©e
- **Cartes tactiles** pour mobile
- **Carte interactive** responsive
- **Largeur maximale** : 6xl pour les √©crans larges
- **Espacement optimis√©** pour tous les formats d'√©cran

## üóÑÔ∏è Structure de la Base de Donn√©es

### Mod√®les Principaux
```prisma
model User {
  id              String   @id @default(cuid())
  email           String   @unique
  firstName       String?
  lastName        String?
  role            UserRole
  favoriteCity    String?
  establishmentId String?
  establishment   Establishment? @relation(fields: [establishmentId], references: [id])
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
}

model Establishment {
  id                    String   @id @default(cuid())
  name                  String
  slug                  String   @unique
  description           String?
  address               String
  city                  String
  postalCode            String
  country               String
  latitude              Float?
  longitude             Float?
  phone                 String?
  email                 String?
  website               String?
  instagram             String?
  facebook              String?
  tiktok                String?
  activities            String[] // Syst√®me d'activit√©s √©tendu
  specialites           String?
  motsClesRecherche     String?
  services              Json?    // Services organis√©s
  ambiance              Json?    // Ambiance organis√©e
  paymentMethods        Json?    // Moyens de paiement
  horairesOuverture     Json?    // Horaires
  prixMoyen             Float?
  capaciteMax           Int?
  accessibilite         String?
  parking               Boolean?
  terrasse              Boolean?
  status                EstablishmentStatus
  subscription          SubscriptionType
  ownerId               String
  owner                 User     @relation(fields: [ownerId], references: [id])
  viewsCount            Int      @default(0)
  clicksCount           Int      @default(0)
  avgRating             Float?
  totalComments         Int      @default(0)
  imageUrl              String?
  priceMax              Float?
  priceMin              Float?
  informationsPratiques Json?
  googlePlaceId         String?
  googleBusinessUrl     String?
  enriched              Boolean  @default(false)
  enrichmentData        Json?
  envieTags             String[]
  priceLevel            Int?
  googleRating          Float?
  googleReviewCount     Int?
  theForkLink           String?
  uberEatsLink          String?
  specialties           String[]
  atmosphere            String[]
  accessibility         String[]
  accessibilityDetails  Json?
  detailedServices      Json?
  clienteleInfo         String?
  detailedPayments      Json?
  childrenServices      Json?
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt
  tags                  Tag[]
  events                Event[]
  featuredPromotions    Promotion[]
  images                Image[]
  pricing               Pricing[]
  tariffs               Tariff[]
  comments              Comment[]
  favorites             Favorite[]
  likes                 Like[]
}

model Event {
  id             String   @id @default(cuid())
  title          String
  description    String?
  startDate      DateTime
  endDate        DateTime?
  price          Float?
  maxCapacity    Int?
  establishmentId String
  establishment  Establishment @relation(fields: [establishmentId], references: [id])
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

enum UserRole {
  ADMIN
  PROFESSIONAL
  USER
}

enum EstablishmentStatus {
  DRAFT
  PENDING
  APPROVED
  REJECTED
  SUSPENDED
}

enum SubscriptionType {
  FREE
  BASIC
  PREMIUM
  ENTERPRISE
}
```

## üöÄ Installation et D√©marrage

### Pr√©requis
- Node.js 18+ 
- npm ou yarn
- Git

### Installation
```bash
# Cloner le projet
git clone https://github.com/voicedhealer/envie2sortir.git
cd envie2sortir

# Installer les d√©pendances
npm install

# Configurer la base de donn√©es
cp .env.example .env.local
# Modifier les variables dans .env.local

# G√©n√©rer le client Prisma
npx prisma generate

# Appliquer les migrations
npx prisma migrate dev

# D√©marrer le serveur de d√©veloppement
npm run dev
```

### Variables d'Environnement
```env
# Base de donn√©es
DATABASE_URL="file:./prisma/dev.db"

# NextAuth
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-secret-key"

# Google OAuth (optionnel)
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Facebook OAuth (optionnel)
FACEBOOK_CLIENT_ID="your-facebook-client-id"
FACEBOOK_CLIENT_SECRET="your-facebook-client-secret"
```

## üìÅ Structure du Projet

```
src/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/                    # Routes API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin/              # API admin
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/               # Authentification
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ categories/         # API cat√©gories
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/          # API dashboard
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ establishments/     # CRUD √©tablissements
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ etablissements/     # API √©tablissements (FR)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ geocode/            # G√©ocodage
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ google-places-proxy/ # Proxy Google Places
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ professional/       # API professionnels
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ recherche/          # API recherche
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ upload/             # Upload d'images
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user/               # API utilisateurs
‚îÇ   ‚îú‚îÄ‚îÄ auth/                   # Pages d'authentification
‚îÇ   ‚îú‚îÄ‚îÄ carte/                  # Page carte interactive
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/              # Dashboard professionnel
‚îÇ   ‚îú‚îÄ‚îÄ etablissements/         # Gestion √©tablissements
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ [slug]/            # Pages d√©tail √©tablissement
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ nouveau/           # Cr√©ation √©tablissement
‚îÇ   ‚îú‚îÄ‚îÄ mon-compte/            # Profil utilisateur
‚îÇ   ‚îú‚îÄ‚îÄ recherche/             # Page r√©sultats recherche
‚îÇ   ‚îú‚îÄ‚îÄ sections/              # Composants landing page
‚îÇ   ‚îú‚îÄ‚îÄ globals.css            # Styles globaux
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx             # Layout principal
‚îÇ   ‚îú‚îÄ‚îÄ navigation.tsx         # Navigation globale
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx               # Page d'accueil
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ forms/                 # Formulaires
‚îÇ   ‚îú‚îÄ‚îÄ EstablishmentCard.tsx  # Carte √©tablissement
‚îÇ   ‚îú‚îÄ‚îÄ EstablishmentGrid.tsx  # Grille √©tablissements
‚îÇ   ‚îú‚îÄ‚îÄ EstablishmentHero.tsx  # Hero √©tablissement
‚îÇ   ‚îú‚îÄ‚îÄ EstablishmentSections.tsx # Sections d√©tail
‚îÇ   ‚îú‚îÄ‚îÄ UpcomingEventsSection.tsx # √âv√©nements √† venir
‚îÇ   ‚îú‚îÄ‚îÄ MapComponent.tsx       # Carte interactive
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ auth-config.ts         # Configuration NextAuth
‚îÇ   ‚îú‚îÄ‚îÄ prisma.ts              # Client Prisma
‚îÇ   ‚îú‚îÄ‚îÄ date-utils.ts          # Utilitaires dates
‚îÇ   ‚îú‚îÄ‚îÄ enrichment-system.ts   # Syst√®me d'enrichissement
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ types/
    ‚îî‚îÄ‚îÄ next-auth.d.ts         # Types NextAuth
```

## üîß API Endpoints

### Authentification
- `POST /api/auth/register` - Inscription utilisateur
- `GET /api/auth/[...nextauth]` - NextAuth endpoints

### Cat√©gories
- `GET /api/categories` - Liste des cat√©gories avec compteurs
- `GET /api/categories?q=ville` - Filtrage par ville

### √âtablissements
- `GET /api/etablissements` - Liste des √©tablissements
- `POST /api/etablissements` - Cr√©er un √©tablissement
- `PUT /api/etablissements/[slug]` - Modifier un √©tablissement
- `DELETE /api/etablissements/[slug]` - Supprimer un √©tablissement
- `GET /api/etablissements/[slug]/events` - √âv√©nements d'un √©tablissement
- `POST /api/etablissements/enrich` - Enrichir via Google Places

### Recherche
- `GET /api/recherche/envie` - Recherche "envie" intelligente
- `GET /api/geocode` - G√©ocodage d'adresses

### Dashboard
- `GET /api/dashboard/stats` - Statistiques dashboard
- `GET /api/dashboard/establishments` - √âtablissements utilisateur

### Upload
- `POST /api/upload` - Upload d'images

## üéØ Fonctionnalit√©s R√©centes

### ‚úÖ Syst√®me d'Authentification Complet
- [x] NextAuth.js avec support multi-providers
- [x] Gestion des r√¥les (Admin, Professionnel, Utilisateur)
- [x] Protection des routes avec middleware
- [x] Hydratation de session optimis√©e

### ‚úÖ Espaces Utilisateurs
- [x] Dashboard professionnel complet
- [x] Espace admin pour la gestion
- [x] Profil utilisateur avec favoris
- [x] Inscription simplifi√©e (compte + √©tablissement)

### ‚úÖ Syst√®me d'Enrichissement
- [x] Int√©gration Google Places API
- [x] Enrichissement automatique des donn√©es
- [x] Syst√®me hybride (auto + manuel)
- [x] Protection des donn√©es manuelles

### ‚úÖ Carte Interactive Avanc√©e
- [x] Marqueurs personnalis√©s
- [x] Popups adaptatifs selon le contexte
- [x] Marqueur de recherche central
- [x] Syst√®me de r√©glages facile

### ‚úÖ Syst√®me d'√âv√©nements
- [x] Gestion compl√®te des √©v√©nements
- [x] Filtrage temporel intelligent
- [x] Interface utilisateur intuitive

### ‚úÖ Design Responsive Optimis√©
- [x] Largeur adaptative pour √©crans larges
- [x] Syst√®me de r√©glages de tailles
- [x] Layout optimis√© multi-√©crans

## üéØ Fonctionnalit√©s √† Venir

- [ ] Syst√®me de r√©servation en ligne
- [ ] Notifications push et email
- [ ] Syst√®me d'avis et notes avanc√©
- [ ] Mode sombre/clair
- [ ] Application mobile PWA
- [ ] Int√©gration paiements
- [ ] Syst√®me de messagerie
- [ ] Analytics avanc√©es

## ü§ù Contribution

1. Fork le projet
2. Cr√©er une branche feature (`git checkout -b feature/AmazingFeature`)
3. Commit les changements (`git commit -m 'Add some AmazingFeature'`)
4. Push vers la branche (`git push origin feature/AmazingFeature`)
5. Ouvrir une Pull Request

## üìÑ Licence

Ce projet est sous licence MIT. Voir le fichier `LICENSE` pour plus de d√©tails.

## üìû Contact

- **D√©veloppeur** : Vivien Bernardot
- **Projet** : Envie2Sortir
- **GitHub** : [voicedhealer/envie2sortir](https://github.com/voicedhealer/envie2sortir)

---

**Envie2Sortir** - D√©couvrez toutes vos envies, pr√®s de chez vous ! üéâ